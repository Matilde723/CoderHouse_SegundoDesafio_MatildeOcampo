@page "/ventas/new"

@inject NavigationManager NavigationManager
@inject VentaBussiness VentaBussiness  // Inject the business class

<h3>Create Venta</h3>

<VentaForm Venta="Venta" OnValidSubmit="OnCrearVenta" />

@code {
    private Venta Venta = new Venta();  // Initialize a new sale

    private async Task OnCrearVenta()
    {
        try
        {
            await VentaBussiness.CrearVenta(Venta);  // Call business method to create Venta
            NavigationManager.NavigateTo("/ventas");  // Navigate back to the sales list after saving
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Error creating Venta: {ex.Message}");
        }
    }
}
